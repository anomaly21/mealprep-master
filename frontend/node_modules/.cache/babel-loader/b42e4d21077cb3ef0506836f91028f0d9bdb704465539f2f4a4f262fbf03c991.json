{"ast":null,"code":"import _objectSpread from\"C:/Users/Anomalija/mealprep-master/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MealPlanner=()=>{const[days]=useState(['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday']);const[meals,setMeals]=useState({});const[newMeal,setNewMeal]=useState('');const[selectedDay,setSelectedDay]=useState('');useEffect(()=>{// Fetch meals for the logged-in user\nfetch('http://localhost:5000/api/meal-planner',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}}).then(response=>response.json()).then(data=>{const groupedMeals=data.reduce((acc,meal)=>{if(!acc[meal.day])acc[meal.day]=[];acc[meal.day].push(meal.meal);return acc;},{});setMeals(groupedMeals);}).catch(err=>console.error('Error fetching meals:',err));},[]);const handleAddMeal=()=>{if(!newMeal||!selectedDay)return;// Add a meal for the logged-in user\nfetch('http://localhost:5000/api/meal-planner',{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify({day:selectedDay,meal:newMeal})}).then(response=>response.json()).then(()=>{setMeals(prev=>_objectSpread(_objectSpread({},prev),{},{[selectedDay]:[...(prev[selectedDay]||[]),newMeal]}));setNewMeal('');}).catch(err=>console.error('Error adding meal:',err));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-4\",children:\"Weekly Meal Planner\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:days.map(day=>/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 col-lg-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-primary text-white text-center\",children:/*#__PURE__*/_jsx(\"h5\",{children:day})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:meals[day]&&meals[day].length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"list-group mb-3\",children:meals[day].map((meal,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:meal},index))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"No meals planned.\"})})]})},day))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Add a Meal\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:selectedDay,onChange:e=>setSelectedDay(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a Day\"}),days.map(day=>/*#__PURE__*/_jsx(\"option\",{value:day,children:day},day))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Meal\",value:newMeal,onChange:e=>setNewMeal(e.target.value)})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-3\",onClick:handleAddMeal,children:\"Add Meal\"})]})]});};export default MealPlanner;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","MealPlanner","days","meals","setMeals","newMeal","setNewMeal","selectedDay","setSelectedDay","fetch","headers","Authorization","concat","localStorage","getItem","then","response","json","data","groupedMeals","reduce","acc","meal","day","push","catch","err","console","error","handleAddMeal","method","body","JSON","stringify","prev","_objectSpread","className","children","map","length","index","value","onChange","e","target","type","placeholder","onClick"],"sources":["C:/Users/Anomalija/mealprep-master/frontend/src/pages/MealPlanner.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst MealPlanner = () => {\r\n  const [days] = useState(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']);\r\n  const [meals, setMeals] = useState({});\r\n  const [newMeal, setNewMeal] = useState('');\r\n  const [selectedDay, setSelectedDay] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Fetch meals for the logged-in user\r\n    fetch('http://localhost:5000/api/meal-planner', {\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        const groupedMeals = data.reduce((acc, meal) => {\r\n          if (!acc[meal.day]) acc[meal.day] = [];\r\n          acc[meal.day].push(meal.meal);\r\n          return acc;\r\n        }, {});\r\n        setMeals(groupedMeals);\r\n      })\r\n      .catch((err) => console.error('Error fetching meals:', err));\r\n  }, []);\r\n\r\n  const handleAddMeal = () => {\r\n    if (!newMeal || !selectedDay) return;\r\n\r\n    // Add a meal for the logged-in user\r\n    fetch('http://localhost:5000/api/meal-planner', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n      },\r\n      body: JSON.stringify({ day: selectedDay, meal: newMeal }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then(() => {\r\n        setMeals((prev) => ({\r\n          ...prev,\r\n          [selectedDay]: [...(prev[selectedDay] || []), newMeal],\r\n        }));\r\n        setNewMeal('');\r\n      })\r\n      .catch((err) => console.error('Error adding meal:', err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <h1 className=\"text-center mb-4\">Weekly Meal Planner</h1>\r\n      <div className=\"row\">\r\n        {days.map((day) => (\r\n          <div className=\"col-12 col-md-6 col-lg-4 mb-4\" key={day}>\r\n            <div className=\"card shadow-sm\">\r\n              <div className=\"card-header bg-primary text-white text-center\">\r\n                <h5>{day}</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                {meals[day] && meals[day].length > 0 ? (\r\n                  <ul className=\"list-group mb-3\">\r\n                    {meals[day].map((meal, index) => (\r\n                      <li key={index} className=\"list-group-item\">{meal}</li>\r\n                    ))}\r\n                  </ul>\r\n                ) : (\r\n                  <p className=\"text-muted\">No meals planned.</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"mt-4\">\r\n        <h4>Add a Meal</h4>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6\">\r\n            <select\r\n              className=\"form-select\"\r\n              value={selectedDay}\r\n              onChange={(e) => setSelectedDay(e.target.value)}\r\n            >\r\n              <option value=\"\">Select a Day</option>\r\n              {days.map((day) => (\r\n                <option key={day} value={day}>{day}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Meal\"\r\n              value={newMeal}\r\n              onChange={(e) => setNewMeal(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <button className=\"btn btn-primary mt-3\" onClick={handleAddMeal}>\r\n          Add Meal\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MealPlanner;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}