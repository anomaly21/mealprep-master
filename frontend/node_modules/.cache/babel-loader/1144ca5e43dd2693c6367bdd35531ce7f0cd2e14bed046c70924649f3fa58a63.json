{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecipeLibrary=()=>{const[recipes,setRecipes]=useState([]);const[title,setTitle]=useState('');const[ingredients,setIngredients]=useState('');useEffect(()=>{// Fetch recipes for the logged-in user\nfetch('http://localhost:5000/api/recipes',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}}).then(response=>response.json()).then(data=>setRecipes(data)).catch(err=>console.error('Error fetching recipes:',err));},[]);const handleAddRecipe=()=>{if(!title||!ingredients)return;// Add a recipe for the logged-in user\nfetch('http://localhost:5000/api/recipes',{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify({title,ingredients})}).then(response=>response.json()).then(()=>{setRecipes(prev=>[...prev,{title,ingredients}]);setTitle('');setIngredients('');}).catch(err=>console.error('Error adding recipe:',err));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Recipe Library\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:recipes.map((recipe,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:recipe.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:recipe.ingredients})]})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Add a Recipe\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mb-2\",placeholder:\"Recipe Title\",value:title,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control mb-2\",placeholder:\"Ingredients\",rows:\"4\",value:ingredients,onChange:e=>setIngredients(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleAddRecipe,children:\"Add Recipe\"})]})]});};export default RecipeLibrary;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","RecipeLibrary","recipes","setRecipes","title","setTitle","ingredients","setIngredients","fetch","headers","Authorization","concat","localStorage","getItem","then","response","json","data","catch","err","console","error","handleAddRecipe","method","body","JSON","stringify","prev","className","children","map","recipe","index","type","placeholder","value","onChange","e","target","rows","onClick"],"sources":["C:/Users/Anomalija/mealprep-master/frontend/src/pages/RecipeLibrary.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst RecipeLibrary = () => {\r\n  const [recipes, setRecipes] = useState([]);\r\n  const [title, setTitle] = useState('');\r\n  const [ingredients, setIngredients] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Fetch recipes for the logged-in user\r\n    fetch('http://localhost:5000/api/recipes', {\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => setRecipes(data))\r\n      .catch((err) => console.error('Error fetching recipes:', err));\r\n  }, []);\r\n\r\n  const handleAddRecipe = () => {\r\n    if (!title || !ingredients) return;\r\n\r\n    // Add a recipe for the logged-in user\r\n    fetch('http://localhost:5000/api/recipes', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n      },\r\n      body: JSON.stringify({ title, ingredients }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then(() => {\r\n        setRecipes((prev) => [...prev, { title, ingredients }]);\r\n        setTitle('');\r\n        setIngredients('');\r\n      })\r\n      .catch((err) => console.error('Error adding recipe:', err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <h1 className=\"text-center\">Recipe Library</h1>\r\n      <div className=\"mt-4\">\r\n        {recipes.map((recipe, index) => (\r\n          <div key={index} className=\"card mb-3\">\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">{recipe.title}</h5>\r\n              <p className=\"card-text\">{recipe.ingredients}</p>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"mt-4\">\r\n        <h4>Add a Recipe</h4>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control mb-2\"\r\n          placeholder=\"Recipe Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <textarea\r\n          className=\"form-control mb-2\"\r\n          placeholder=\"Ingredients\"\r\n          rows=\"4\"\r\n          value={ingredients}\r\n          onChange={(e) => setIngredients(e.target.value)}\r\n        />\r\n        <button className=\"btn btn-primary\" onClick={handleAddRecipe}>\r\n          Add Recipe\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RecipeLibrary;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}