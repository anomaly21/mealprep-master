{"ast":null,"code":"import _objectSpread from\"C:/Users/Anomalija/mealprep-master/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LandingPage=_ref=>{let{onLogin}=_ref;const[isLogin,setIsLogin]=useState(true);const[formData,setFormData]=useState({username:'',email:'',password:''});const[errorMessage,setErrorMessage]=useState('');const handleInputChange=e=>{const{name,value}=e.target;setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:value}));};const handleFormSubmit=e=>{e.preventDefault();const endpoint=isLogin?'/api/login':'/api/register';fetch(\"http://localhost:5000\".concat(endpoint),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)}).then(response=>response.json()).then(data=>{if(data.token){localStorage.setItem('token',data.token);onLogin();// Redirect to the authenticated homepage\n}else{setErrorMessage(data.message||'Something went wrong');}}).catch(()=>setErrorMessage('Server error, please try again later'));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Welcome to MealPrep Master\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card mx-auto mt-4\",style:{maxWidth:'400px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-center\",children:isLogin?'Login':'Register'}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:errorMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",className:\"form-control\",value:formData.username,onChange:handleInputChange,required:true})]}),!isLogin&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",value:formData.email,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",value:formData.password,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-100\",children:isLogin?'Login':'Register'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-3\",children:isLogin?/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-link\",onClick:()=>setIsLogin(false),children:\"Sign up here\"})]}):/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-link\",onClick:()=>setIsLogin(true),children:\"Login here\"})]})})]})})]});};export default LandingPage;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","LandingPage","_ref","onLogin","isLogin","setIsLogin","formData","setFormData","username","email","password","errorMessage","setErrorMessage","handleInputChange","e","name","value","target","_objectSpread","handleFormSubmit","preventDefault","endpoint","fetch","concat","method","headers","body","JSON","stringify","then","response","json","data","token","localStorage","setItem","message","catch","className","children","style","maxWidth","onSubmit","type","onChange","required","onClick"],"sources":["C:/Users/Anomalija/mealprep-master/frontend/src/pages/LandingPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst LandingPage = ({ onLogin }) => {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [formData, setFormData] = useState({ username: '', email: '', password: '' });\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const endpoint = isLogin ? '/api/login' : '/api/register';\r\n\r\n    fetch(`http://localhost:5000${endpoint}`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(formData),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data.token) {\r\n          localStorage.setItem('token', data.token);\r\n          onLogin(); // Redirect to the authenticated homepage\r\n        } else {\r\n          setErrorMessage(data.message || 'Something went wrong');\r\n        }\r\n      })\r\n      .catch(() => setErrorMessage('Server error, please try again later'));\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <h1 className=\"text-center\">Welcome to MealPrep Master</h1>\r\n      <div className=\"card mx-auto mt-4\" style={{ maxWidth: '400px' }}>\r\n        <div className=\"card-body\">\r\n          <h4 className=\"text-center\">{isLogin ? 'Login' : 'Register'}</h4>\r\n          {errorMessage && <div className=\"alert alert-danger\">{errorMessage}</div>}\r\n          <form onSubmit={handleFormSubmit}>\r\n            <div className=\"mb-3\">\r\n              <label className=\"form-label\">Username</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                className=\"form-control\"\r\n                value={formData.username}\r\n                onChange={handleInputChange}\r\n                required\r\n              />\r\n            </div>\r\n            {!isLogin && (\r\n              <div className=\"mb-3\">\r\n                <label className=\"form-label\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  className=\"form-control\"\r\n                  value={formData.email}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                />\r\n              </div>\r\n            )}\r\n            <div className=\"mb-3\">\r\n              <label className=\"form-label\">Password</label>\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                className=\"form-control\"\r\n                value={formData.password}\r\n                onChange={handleInputChange}\r\n                required\r\n              />\r\n            </div>\r\n            <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n              {isLogin ? 'Login' : 'Register'}\r\n            </button>\r\n          </form>\r\n          <div className=\"text-center mt-3\">\r\n            {isLogin ? (\r\n              <p>\r\n                Don't have an account?{' '}\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-link\"\r\n                  onClick={() => setIsLogin(false)}\r\n                >\r\n                  Sign up here\r\n                </button>\r\n              </p>\r\n            ) : (\r\n              <p>\r\n                Already have an account?{' '}\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-link\"\r\n                  onClick={() => setIsLogin(true)}\r\n                >\r\n                  Login here\r\n                </button>\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LandingPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}