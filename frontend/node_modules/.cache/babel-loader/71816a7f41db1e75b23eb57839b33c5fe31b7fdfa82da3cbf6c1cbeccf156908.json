{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[message,setMessage]=useState('');const[users,setUsers]=useState([]);const[error,setError]=useState('');useEffect(()=>{// Fetch server message for the authenticated user\nfetch('http://localhost:5000/api/test',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}}).then(response=>{if(!response.ok){throw new Error('Failed to fetch message');}return response.json();}).then(data=>setMessage(data.message)).catch(err=>{console.error('Error fetching message:',err);setError('Failed to load the welcome message.');});// Fetch all registered users (for admin or demo purposes)\nfetch('http://localhost:5000/api/users',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}}).then(response=>{if(!response.ok){throw new Error('Failed to fetch users');}return response.json();}).then(data=>setUsers(data)).catch(err=>{console.error('Error fetching users:',err);setError('Failed to load the user list.');});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4\",children:\"Welcome to MealPrep Master\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:\"Plan your meals, organize recipes, and streamline grocery shopping.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-primary mt-4\",role:\"alert\",children:message||'Fetching message from server...'}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-4\",role:\"alert\",children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"Registered Users\"}),users.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"list-group mt-3\",children:users.map(user=>/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center\",children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:user.name}),\" (\",user.email,\")\"]})},user.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-muted mt-3\",children:\"No users found.\"})]})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Home","message","setMessage","users","setUsers","error","setError","fetch","headers","Authorization","concat","localStorage","getItem","then","response","ok","Error","json","data","catch","err","console","className","children","role","length","map","user","name","email","id"],"sources":["C:/Users/Anomalija/mealprep-master/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nconst Home = () => {\r\n  const [message, setMessage] = useState('');\r\n  const [users, setUsers] = useState([]);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Fetch server message for the authenticated user\r\n    fetch('http://localhost:5000/api/test', {\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch message');\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => setMessage(data.message))\r\n      .catch((err) => {\r\n        console.error('Error fetching message:', err);\r\n        setError('Failed to load the welcome message.');\r\n      });\r\n\r\n    // Fetch all registered users (for admin or demo purposes)\r\n    fetch('http://localhost:5000/api/users', {\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch users');\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => setUsers(data))\r\n      .catch((err) => {\r\n        console.error('Error fetching users:', err);\r\n        setError('Failed to load the user list.');\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"text-center\">\r\n        <h1 className=\"display-4\">Welcome to MealPrep Master</h1>\r\n        <p className=\"lead\">\r\n          Plan your meals, organize recipes, and streamline grocery shopping.\r\n        </p>\r\n        <div className=\"alert alert-primary mt-4\" role=\"alert\">\r\n          {message || 'Fetching message from server...'}\r\n        </div>\r\n        {error && (\r\n          <div className=\"alert alert-danger mt-4\" role=\"alert\">\r\n            {error}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"mt-5\">\r\n        <h3 className=\"text-center\">Registered Users</h3>\r\n        {users.length > 0 ? (\r\n          <ul className=\"list-group mt-3\">\r\n            {users.map((user) => (\r\n              <li key={user.id} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                <span>\r\n                  <strong>{user.name}</strong> ({user.email})\r\n                </span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <p className=\"text-center text-muted mt-3\">No users found.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACd;AACAa,KAAK,CAAC,gCAAgC,CAAE,CACtCC,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACxD,CACF,CAAC,CAAC,CACCC,IAAI,CAAEC,QAAQ,EAAK,CAClB,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,yBAAyB,CAAC,CAC5C,CACA,MAAO,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CACxB,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAI,EAAKhB,UAAU,CAACgB,IAAI,CAACjB,OAAO,CAAC,CAAC,CACxCkB,KAAK,CAAEC,GAAG,EAAK,CACdC,OAAO,CAAChB,KAAK,CAAC,yBAAyB,CAAEe,GAAG,CAAC,CAC7Cd,QAAQ,CAAC,qCAAqC,CAAC,CACjD,CAAC,CAAC,CAEJ;AACAC,KAAK,CAAC,iCAAiC,CAAE,CACvCC,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACxD,CACF,CAAC,CAAC,CACCC,IAAI,CAAEC,QAAQ,EAAK,CAClB,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,uBAAuB,CAAC,CAC1C,CACA,MAAO,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CACxB,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAI,EAAKd,QAAQ,CAACc,IAAI,CAAC,CAAC,CAC9BC,KAAK,CAAEC,GAAG,EAAK,CACdC,OAAO,CAAChB,KAAK,CAAC,uBAAuB,CAAEe,GAAG,CAAC,CAC3Cd,QAAQ,CAAC,+BAA+B,CAAC,CAC3C,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEP,KAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BxB,KAAA,QAAKuB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B1B,IAAA,OAAIyB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,4BAA0B,CAAI,CAAC,cACzD1B,IAAA,MAAGyB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,qEAEpB,CAAG,CAAC,cACJ1B,IAAA,QAAKyB,SAAS,CAAC,0BAA0B,CAACE,IAAI,CAAC,OAAO,CAAAD,QAAA,CACnDtB,OAAO,EAAI,iCAAiC,CAC1C,CAAC,CACLI,KAAK,eACJR,IAAA,QAAKyB,SAAS,CAAC,yBAAyB,CAACE,IAAI,CAAC,OAAO,CAAAD,QAAA,CAClDlB,KAAK,CACH,CACN,EACE,CAAC,cAENN,KAAA,QAAKuB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB1B,IAAA,OAAIyB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,CAChDpB,KAAK,CAACsB,MAAM,CAAG,CAAC,cACf5B,IAAA,OAAIyB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC5BpB,KAAK,CAACuB,GAAG,CAAEC,IAAI,eACd9B,IAAA,OAAkByB,SAAS,CAAC,mEAAmE,CAAAC,QAAA,cAC7FxB,KAAA,SAAAwB,QAAA,eACE1B,IAAA,WAAA0B,QAAA,CAASI,IAAI,CAACC,IAAI,CAAS,CAAC,KAAE,CAACD,IAAI,CAACE,KAAK,CAAC,GAC5C,EAAM,CAAC,EAHAF,IAAI,CAACG,EAIV,CACL,CAAC,CACA,CAAC,cAELjC,IAAA,MAAGyB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAC9D,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAvB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}